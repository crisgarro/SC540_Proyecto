--------------------------------------------------------
--  File created - Saturday-November-11-2023   
--------------------------------------------------------
DROP TABLE "CRAVYDEV"."APPLIED_PROMOTIONS" cascade constraints;
DROP TABLE "CRAVYDEV"."CART" cascade constraints;
DROP TABLE "CRAVYDEV"."CART_ITEMS" cascade constraints;
DROP TABLE "CRAVYDEV"."CATEGORIES" cascade constraints;
DROP TABLE "CRAVYDEV"."NOTIFICATIONS" cascade constraints;
DROP TABLE "CRAVYDEV"."ORDERS" cascade constraints;
DROP TABLE "CRAVYDEV"."ORDER_ITEMS" cascade constraints;
DROP TABLE "CRAVYDEV"."PAYMENT_METHODS" cascade constraints;
DROP TABLE "CRAVYDEV"."PRODUCTS" cascade constraints;
DROP TABLE "CRAVYDEV"."PRODUCT_REVIEWS" cascade constraints;
DROP TABLE "CRAVYDEV"."PROMOTIONS" cascade constraints;
DROP TABLE "CRAVYDEV"."REWARDS" cascade constraints;
DROP TABLE "CRAVYDEV"."ROLES" cascade constraints;
DROP TABLE "CRAVYDEV"."SHIPPING_METHODS" cascade constraints;
DROP TABLE "CRAVYDEV"."USERS" cascade constraints;
DROP TABLE "CRAVYDEV"."USER_ROLES" cascade constraints;
DROP PROCEDURE "CRAVYDEV"."DISABLEUSER";
DROP PROCEDURE "CRAVYDEV"."GETALLUSERS";
DROP PROCEDURE "CRAVYDEV"."INSERTUSER";
DROP PROCEDURE "CRAVYDEV"."UPDATEUSER";
--------------------------------------------------------
--  DDL for Table APPLIED_PROMOTIONS
--------------------------------------------------------

  CREATE TABLE "CRAVYDEV"."APPLIED_PROMOTIONS" 
   (	"APPLIEDPROMOTIONID" NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE , 
	"ORDERID" NUMBER, 
	"PROMOTIONID" NUMBER
   ) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  TABLESPACE "CRAVYPIZZAHUB" ;
--------------------------------------------------------
--  DDL for Table CART
--------------------------------------------------------

  CREATE TABLE "CRAVYDEV"."CART" 
   (	"CARTID" NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE , 
	"USERID" NUMBER
   ) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  TABLESPACE "CRAVYPIZZAHUB" ;
--------------------------------------------------------
--  DDL for Table CART_ITEMS
--------------------------------------------------------

  CREATE TABLE "CRAVYDEV"."CART_ITEMS" 
   (	"CARTITEMID" NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE , 
	"CARTID" NUMBER, 
	"PRODUCTID" NUMBER, 
	"QUANTITY" NUMBER
   ) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  TABLESPACE "CRAVYPIZZAHUB" ;
--------------------------------------------------------
--  DDL for Table CATEGORIES
--------------------------------------------------------

  CREATE TABLE "CRAVYDEV"."CATEGORIES" 
   (	"CATEGORYID" NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE , 
	"CATEGORYNAME" NVARCHAR2(50)
   ) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  TABLESPACE "CRAVYPIZZAHUB" ;
--------------------------------------------------------
--  DDL for Table NOTIFICATIONS
--------------------------------------------------------

  CREATE TABLE "CRAVYDEV"."NOTIFICATIONS" 
   (	"NOTIFICATIONID" NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE , 
	"USERID" NUMBER, 
	"MESSAGE" NVARCHAR2(255), 
	"TIMESTAMP" TIMESTAMP (6)
   ) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  TABLESPACE "CRAVYPIZZAHUB" ;
--------------------------------------------------------
--  DDL for Table ORDERS
--------------------------------------------------------

  CREATE TABLE "CRAVYDEV"."ORDERS" 
   (	"ORDERID" NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE , 
	"USERID" NUMBER, 
	"ORDERDATE" TIMESTAMP (6) DEFAULT CURRENT_TIMESTAMP, 
	"TOTALAMOUNT" NUMBER(10,2), 
	"PAYMENTMETHODID" NUMBER, 
	"SHIPPINGMETHODID" NUMBER
   ) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  TABLESPACE "CRAVYPIZZAHUB" ;
--------------------------------------------------------
--  DDL for Table ORDER_ITEMS
--------------------------------------------------------

  CREATE TABLE "CRAVYDEV"."ORDER_ITEMS" 
   (	"ORDERITEMID" NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE , 
	"ORDERID" NUMBER, 
	"PRODUCTID" NUMBER, 
	"QUANTITY" NUMBER, 
	"SUBTOTAL" NUMBER(10,2)
   ) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  TABLESPACE "CRAVYPIZZAHUB" ;
--------------------------------------------------------
--  DDL for Table PAYMENT_METHODS
--------------------------------------------------------

  CREATE TABLE "CRAVYDEV"."PAYMENT_METHODS" 
   (	"PAYMENTMETHODID" NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE , 
	"PAYMENTMETHODNAME" NVARCHAR2(50)
   ) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  TABLESPACE "CRAVYPIZZAHUB" ;
--------------------------------------------------------
--  DDL for Table PRODUCTS
--------------------------------------------------------

  CREATE TABLE "CRAVYDEV"."PRODUCTS" 
   (	"PRODUCTID" NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE , 
	"NAME" NVARCHAR2(100), 
	"DESCRIPTION" NVARCHAR2(255), 
	"PRICE" NUMBER(10,2), 
	"STOCKQUANTITY" NUMBER, 
	"CATEGORYID" NUMBER
   ) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  TABLESPACE "CRAVYPIZZAHUB" ;
--------------------------------------------------------
--  DDL for Table PRODUCT_REVIEWS
--------------------------------------------------------

  CREATE TABLE "CRAVYDEV"."PRODUCT_REVIEWS" 
   (	"REVIEWID" NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE , 
	"USERID" NUMBER, 
	"PRODUCTID" NUMBER, 
	"RATING" NUMBER(3,1), 
	"COMMENTS" NVARCHAR2(255), 
	"TIMESTAMP" TIMESTAMP (6)
   ) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  TABLESPACE "CRAVYPIZZAHUB" ;
--------------------------------------------------------
--  DDL for Table PROMOTIONS
--------------------------------------------------------

  CREATE TABLE "CRAVYDEV"."PROMOTIONS" 
   (	"PROMOTIONID" NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE , 
	"PROMOTIONNAME" NVARCHAR2(100), 
	"DISCOUNTAMOUNT" NUMBER(10,2), 
	"STARTDATE" DATE, 
	"ENDDATE" DATE
   ) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  TABLESPACE "CRAVYPIZZAHUB" ;
--------------------------------------------------------
--  DDL for Table REWARDS
--------------------------------------------------------

  CREATE TABLE "CRAVYDEV"."REWARDS" 
   (	"REWARDID" NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE , 
	"USERID" NUMBER, 
	"POINTS" NUMBER
   ) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  TABLESPACE "CRAVYPIZZAHUB" ;
--------------------------------------------------------
--  DDL for Table ROLES
--------------------------------------------------------

  CREATE TABLE "CRAVYDEV"."ROLES" 
   (	"ROLEID" NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE , 
	"ROLENAME" NVARCHAR2(50)
   ) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  TABLESPACE "CRAVYPIZZAHUB" ;
--------------------------------------------------------
--  DDL for Table SHIPPING_METHODS
--------------------------------------------------------

  CREATE TABLE "CRAVYDEV"."SHIPPING_METHODS" 
   (	"SHIPPINGMETHODID" NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE , 
	"SHIPPINGMETHODNAME" NVARCHAR2(50), 
	"SHIPPINGCOST" NUMBER(10,2)
   ) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  TABLESPACE "CRAVYPIZZAHUB" ;
--------------------------------------------------------
--  DDL for Table USERS
--------------------------------------------------------

  CREATE TABLE "CRAVYDEV"."USERS" 
   (	"USERID" NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE , 
	"USERNAME" NVARCHAR2(50), 
	"PASSWORD" NVARCHAR2(255), 
	"EMAIL" NVARCHAR2(100), 
	"FIRSTNAME" NVARCHAR2(50), 
	"LASTNAME" NVARCHAR2(50), 
	"ADDRESS" NVARCHAR2(255), 
	"PHONE" NVARCHAR2(15), 
	"LAST_LOGIN" DATE, 
	"REQUIRE_CHANGE_PASSWORD" NUMBER(1,0) DEFAULT 1, 
	"ENABLE" NUMBER(1,0) DEFAULT 1, 
	"DISABLED_DATE" DATE
   ) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  TABLESPACE "CRAVYPIZZAHUB" ;
--------------------------------------------------------
--  DDL for Table USER_ROLES
--------------------------------------------------------

  CREATE TABLE "CRAVYDEV"."USER_ROLES" 
   (	"USER_ROLEID" NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE , 
	"USERID" NUMBER, 
	"ROLEID" NUMBER
   ) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  TABLESPACE "CRAVYPIZZAHUB" ;
--------------------------------------------------------
--  DDL for Procedure DISABLEUSER
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "CRAVYDEV"."DISABLEUSER" (
    pUserID IN NUMBER,
    pEnable IN NUMBER, -- Updating the parameter to match the field type in the table
    pIsUpdated OUT NUMBER
)
IS
BEGIN
    pIsUpdated := 0;

    SELECT COUNT(*)
    INTO pIsUpdated
    FROM Users
    WHERE UserID = pUserID;

    IF pIsUpdated = 1 THEN
        UPDATE Users
        SET Enable = pEnable,
            Disabled_Date = CASE
                WHEN pEnable = 0 THEN SYSDATE  
                ELSE NULL 
            END
        WHERE UserID = pUserID;
    END IF;
END;

/
--------------------------------------------------------
--  DDL for Procedure GETALLUSERS
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "CRAVYDEV"."GETALLUSERS" (
    p_users OUT SYS_REFCURSOR
)
AS
BEGIN
    OPEN p_users FOR
    SELECT
        USERS.USERID,
        USERS.USERNAME,
        USERS.PASSWORD,
        USERS.EMAIL,
        USERS.FIRSTNAME,
        USERS.LASTNAME,
        USERS.ADDRESS,
        USERS.PHONE
    FROM USERS;
END;

/
--------------------------------------------------------
--  DDL for Procedure INSERTUSER
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "CRAVYDEV"."INSERTUSER" (
    p_username IN NVARCHAR2,
    p_password IN NVARCHAR2,
    p_email IN NVARCHAR2,
    p_firstName IN NVARCHAR2,
    p_lastName IN NVARCHAR2,
    p_address IN NVARCHAR2,
    p_phone IN NVARCHAR2,    
    p_userId OUT NUMBER
)
IS
BEGIN    
    INSERT INTO Users (
        Username, Password, Email, FirstName, LastName, Address, Phone, Enable
    ) VALUES (
        p_username, p_password, p_email, p_firstName, p_lastName, p_address, p_phone, 1
    ) RETURNING UserID INTO p_userId;

    COMMIT;
EXCEPTION
    WHEN OTHERS THEN
        ROLLBACK;
        RAISE;
END InsertUser;

/
--------------------------------------------------------
--  DDL for Procedure UPDATEUSER
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "CRAVYDEV"."UPDATEUSER" (
    pUserID IN NUMBER,
    pUsername IN NVARCHAR2,
    pPassword IN NVARCHAR2,
    pEmail IN NVARCHAR2,
    pFirstName IN NVARCHAR2,
    pLastName IN NVARCHAR2,
    pAddress IN NVARCHAR2,
    pPhone IN NVARCHAR2,
    pIsUpdated OUT NUMBER
)
IS
BEGIN
    pIsUpdated := 0; 

    -- Verifica si el usuario existe 
    SELECT COUNT(*)
    INTO pIsUpdated
    FROM Users
    WHERE UserID = pUserID;

    IF pIsUpdated = 1 THEN        
        UPDATE Users
        SET
            Username = pUsername,
            Password = pPassword,
            Email = pEmail,
            FirstName = pFirstName,
            LastName = pLastName,
            Address = pAddress,
            Phone = pPhone
        WHERE UserID = pUserID;
    END IF;
END;

/
--------------------------------------------------------
--  Constraints for Table PRODUCT_REVIEWS
--------------------------------------------------------

  --ALTER TABLE "CRAVYDEV"."PRODUCT_REVIEWS" MODIFY ("REVIEWID" NOT NULL ENABLE);
  ALTER TABLE "CRAVYDEV"."PRODUCT_REVIEWS" MODIFY ("RATING" NOT NULL ENABLE);
  ALTER TABLE "CRAVYDEV"."PRODUCT_REVIEWS" ADD PRIMARY KEY ("REVIEWID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  TABLESPACE "CRAVYPIZZAHUB"  ENABLE;
--------------------------------------------------------
--  Constraints for Table USERS
--------------------------------------------------------

  --ALTER TABLE "CRAVYDEV"."USERS" MODIFY ("USERID" NOT NULL ENABLE);
  ALTER TABLE "CRAVYDEV"."USERS" MODIFY ("USERNAME" NOT NULL ENABLE);
  ALTER TABLE "CRAVYDEV"."USERS" MODIFY ("PASSWORD" NOT NULL ENABLE);
  ALTER TABLE "CRAVYDEV"."USERS" MODIFY ("EMAIL" NOT NULL ENABLE);
  ALTER TABLE "CRAVYDEV"."USERS" ADD PRIMARY KEY ("USERID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  TABLESPACE "CRAVYPIZZAHUB"  ENABLE;
  ALTER TABLE "CRAVYDEV"."USERS" ADD UNIQUE ("USERNAME")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  TABLESPACE "CRAVYPIZZAHUB"  ENABLE;
  ALTER TABLE "CRAVYDEV"."USERS" ADD UNIQUE ("EMAIL")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  TABLESPACE "CRAVYPIZZAHUB"  ENABLE;
--------------------------------------------------------
--  Constraints for Table REWARDS
--------------------------------------------------------

  --ALTER TABLE "CRAVYDEV"."REWARDS" MODIFY ("REWARDID" NOT NULL ENABLE);
  ALTER TABLE "CRAVYDEV"."REWARDS" MODIFY ("POINTS" NOT NULL ENABLE);
  ALTER TABLE "CRAVYDEV"."REWARDS" ADD PRIMARY KEY ("REWARDID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  TABLESPACE "CRAVYPIZZAHUB"  ENABLE;
--------------------------------------------------------
--  Constraints for Table PROMOTIONS
--------------------------------------------------------

  --ALTER TABLE "CRAVYDEV"."PROMOTIONS" MODIFY ("PROMOTIONID" NOT NULL ENABLE);
  ALTER TABLE "CRAVYDEV"."PROMOTIONS" MODIFY ("PROMOTIONNAME" NOT NULL ENABLE);
  ALTER TABLE "CRAVYDEV"."PROMOTIONS" MODIFY ("DISCOUNTAMOUNT" NOT NULL ENABLE);
  ALTER TABLE "CRAVYDEV"."PROMOTIONS" ADD PRIMARY KEY ("PROMOTIONID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  TABLESPACE "CRAVYPIZZAHUB"  ENABLE;
--------------------------------------------------------
--  Constraints for Table SHIPPING_METHODS
--------------------------------------------------------

  --ALTER TABLE "CRAVYDEV"."SHIPPING_METHODS" MODIFY ("SHIPPINGMETHODID" NOT NULL ENABLE);
  ALTER TABLE "CRAVYDEV"."SHIPPING_METHODS" MODIFY ("SHIPPINGMETHODNAME" NOT NULL ENABLE);
  ALTER TABLE "CRAVYDEV"."SHIPPING_METHODS" ADD PRIMARY KEY ("SHIPPINGMETHODID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  TABLESPACE "CRAVYPIZZAHUB"  ENABLE;
--------------------------------------------------------
--  Constraints for Table ORDER_ITEMS
--------------------------------------------------------

  --ALTER TABLE "CRAVYDEV"."ORDER_ITEMS" MODIFY ("ORDERITEMID" NOT NULL ENABLE);
  ALTER TABLE "CRAVYDEV"."ORDER_ITEMS" MODIFY ("QUANTITY" NOT NULL ENABLE);
  ALTER TABLE "CRAVYDEV"."ORDER_ITEMS" ADD PRIMARY KEY ("ORDERITEMID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  TABLESPACE "CRAVYPIZZAHUB"  ENABLE;
--------------------------------------------------------
--  Constraints for Table PAYMENT_METHODS
--------------------------------------------------------

  --ALTER TABLE "CRAVYDEV"."PAYMENT_METHODS" MODIFY ("PAYMENTMETHODID" NOT NULL ENABLE);
  ALTER TABLE "CRAVYDEV"."PAYMENT_METHODS" MODIFY ("PAYMENTMETHODNAME" NOT NULL ENABLE);
  ALTER TABLE "CRAVYDEV"."PAYMENT_METHODS" ADD PRIMARY KEY ("PAYMENTMETHODID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  TABLESPACE "CRAVYPIZZAHUB"  ENABLE;
--------------------------------------------------------
--  Constraints for Table USER_ROLES
--------------------------------------------------------

  --ALTER TABLE "CRAVYDEV"."USER_ROLES" MODIFY ("USER_ROLEID" NOT NULL ENABLE);
  ALTER TABLE "CRAVYDEV"."USER_ROLES" ADD PRIMARY KEY ("USER_ROLEID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  TABLESPACE "CRAVYPIZZAHUB"  ENABLE;
--------------------------------------------------------
--  Constraints for Table PRODUCTS
--------------------------------------------------------

  --ALTER TABLE "CRAVYDEV"."PRODUCTS" MODIFY ("PRODUCTID" NOT NULL ENABLE);
  ALTER TABLE "CRAVYDEV"."PRODUCTS" MODIFY ("NAME" NOT NULL ENABLE);
  ALTER TABLE "CRAVYDEV"."PRODUCTS" MODIFY ("PRICE" NOT NULL ENABLE);
  ALTER TABLE "CRAVYDEV"."PRODUCTS" MODIFY ("STOCKQUANTITY" NOT NULL ENABLE);
  ALTER TABLE "CRAVYDEV"."PRODUCTS" ADD PRIMARY KEY ("PRODUCTID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  TABLESPACE "CRAVYPIZZAHUB"  ENABLE;
--------------------------------------------------------
--  Constraints for Table ROLES
--------------------------------------------------------

  --ALTER TABLE "CRAVYDEV"."ROLES" MODIFY ("ROLEID" NOT NULL ENABLE);
  ALTER TABLE "CRAVYDEV"."ROLES" MODIFY ("ROLENAME" NOT NULL ENABLE);
  ALTER TABLE "CRAVYDEV"."ROLES" ADD PRIMARY KEY ("ROLEID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  TABLESPACE "CRAVYPIZZAHUB"  ENABLE;
--------------------------------------------------------
--  Constraints for Table NOTIFICATIONS
--------------------------------------------------------

  --ALTER TABLE "CRAVYDEV"."NOTIFICATIONS" MODIFY ("NOTIFICATIONID" NOT NULL ENABLE);
  ALTER TABLE "CRAVYDEV"."NOTIFICATIONS" ADD PRIMARY KEY ("NOTIFICATIONID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  TABLESPACE "CRAVYPIZZAHUB"  ENABLE;
--------------------------------------------------------
--  Constraints for Table ORDERS
--------------------------------------------------------

  --ALTER TABLE "CRAVYDEV"."ORDERS" MODIFY ("ORDERID" NOT NULL ENABLE);
  ALTER TABLE "CRAVYDEV"."ORDERS" ADD PRIMARY KEY ("ORDERID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  TABLESPACE "CRAVYPIZZAHUB"  ENABLE;
--------------------------------------------------------
--  Constraints for Table CART_ITEMS
--------------------------------------------------------

  --ALTER TABLE "CRAVYDEV"."CART_ITEMS" MODIFY ("CARTITEMID" NOT NULL ENABLE);
  ALTER TABLE "CRAVYDEV"."CART_ITEMS" MODIFY ("QUANTITY" NOT NULL ENABLE);
  ALTER TABLE "CRAVYDEV"."CART_ITEMS" ADD PRIMARY KEY ("CARTITEMID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  TABLESPACE "CRAVYPIZZAHUB"  ENABLE;
--------------------------------------------------------
--  Constraints for Table CART
--------------------------------------------------------

  --ALTER TABLE "CRAVYDEV"."CART" MODIFY ("CARTID" NOT NULL ENABLE);
  ALTER TABLE "CRAVYDEV"."CART" ADD PRIMARY KEY ("CARTID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  TABLESPACE "CRAVYPIZZAHUB"  ENABLE;
--------------------------------------------------------
--  Constraints for Table APPLIED_PROMOTIONS
--------------------------------------------------------

  --ALTER TABLE "CRAVYDEV"."APPLIED_PROMOTIONS" MODIFY ("APPLIEDPROMOTIONID" NOT NULL ENABLE);
  ALTER TABLE "CRAVYDEV"."APPLIED_PROMOTIONS" ADD PRIMARY KEY ("APPLIEDPROMOTIONID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  TABLESPACE "CRAVYPIZZAHUB"  ENABLE;
--------------------------------------------------------
--  Constraints for Table CATEGORIES
--------------------------------------------------------

  --ALTER TABLE "CRAVYDEV"."CATEGORIES" MODIFY ("CATEGORYID" NOT NULL ENABLE);
  ALTER TABLE "CRAVYDEV"."CATEGORIES" MODIFY ("CATEGORYNAME" NOT NULL ENABLE);
  ALTER TABLE "CRAVYDEV"."CATEGORIES" ADD PRIMARY KEY ("CATEGORYID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  TABLESPACE "CRAVYPIZZAHUB"  ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table APPLIED_PROMOTIONS
--------------------------------------------------------

  ALTER TABLE "CRAVYDEV"."APPLIED_PROMOTIONS" ADD CONSTRAINT "FK_APPLIED_PROMOTIONS_ORDERID" FOREIGN KEY ("ORDERID")
	  REFERENCES "CRAVYDEV"."ORDERS" ("ORDERID") ENABLE;
  ALTER TABLE "CRAVYDEV"."APPLIED_PROMOTIONS" ADD CONSTRAINT "FK_APPLIED_PROMOTIONS_PROMOTIONID" FOREIGN KEY ("PROMOTIONID")
	  REFERENCES "CRAVYDEV"."PROMOTIONS" ("PROMOTIONID") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table CART
--------------------------------------------------------

  ALTER TABLE "CRAVYDEV"."CART" ADD CONSTRAINT "FK_CART_USERID" FOREIGN KEY ("USERID")
	  REFERENCES "CRAVYDEV"."USERS" ("USERID") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table CART_ITEMS
--------------------------------------------------------

  ALTER TABLE "CRAVYDEV"."CART_ITEMS" ADD CONSTRAINT "FK_CART_ITEMS_CARTID" FOREIGN KEY ("CARTID")
	  REFERENCES "CRAVYDEV"."CART" ("CARTID") ENABLE;
  ALTER TABLE "CRAVYDEV"."CART_ITEMS" ADD CONSTRAINT "FK_CART_ITEMS_PRODUCTID" FOREIGN KEY ("PRODUCTID")
	  REFERENCES "CRAVYDEV"."PRODUCTS" ("PRODUCTID") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table NOTIFICATIONS
--------------------------------------------------------

  ALTER TABLE "CRAVYDEV"."NOTIFICATIONS" ADD CONSTRAINT "FK_NOTIFICATIONS_USERID" FOREIGN KEY ("USERID")
	  REFERENCES "CRAVYDEV"."USERS" ("USERID") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table ORDERS
--------------------------------------------------------

  ALTER TABLE "CRAVYDEV"."ORDERS" ADD CONSTRAINT "FK_ORDERS_USERID" FOREIGN KEY ("USERID")
	  REFERENCES "CRAVYDEV"."USERS" ("USERID") ENABLE;
  ALTER TABLE "CRAVYDEV"."ORDERS" ADD CONSTRAINT "FK_ORDERS_PAYMENTMETHODID" FOREIGN KEY ("PAYMENTMETHODID")
	  REFERENCES "CRAVYDEV"."PAYMENT_METHODS" ("PAYMENTMETHODID") ENABLE;
  ALTER TABLE "CRAVYDEV"."ORDERS" ADD CONSTRAINT "FK_ORDERS_SHIPPINGMETHODID" FOREIGN KEY ("SHIPPINGMETHODID")
	  REFERENCES "CRAVYDEV"."SHIPPING_METHODS" ("SHIPPINGMETHODID") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table ORDER_ITEMS
--------------------------------------------------------

  ALTER TABLE "CRAVYDEV"."ORDER_ITEMS" ADD CONSTRAINT "FK_ORDER_ITEMS_ORDERID" FOREIGN KEY ("ORDERID")
	  REFERENCES "CRAVYDEV"."ORDERS" ("ORDERID") ENABLE;
  ALTER TABLE "CRAVYDEV"."ORDER_ITEMS" ADD CONSTRAINT "FK_ORDER_ITEMS_PRODUCTID" FOREIGN KEY ("PRODUCTID")
	  REFERENCES "CRAVYDEV"."PRODUCTS" ("PRODUCTID") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table PRODUCTS
--------------------------------------------------------

  ALTER TABLE "CRAVYDEV"."PRODUCTS" ADD CONSTRAINT "FK_PRODUCTS_CATEGORYID" FOREIGN KEY ("CATEGORYID")
	  REFERENCES "CRAVYDEV"."CATEGORIES" ("CATEGORYID") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table PRODUCT_REVIEWS
--------------------------------------------------------

  ALTER TABLE "CRAVYDEV"."PRODUCT_REVIEWS" ADD CONSTRAINT "FK_PRODUCT_REVIEWS_USERID" FOREIGN KEY ("USERID")
	  REFERENCES "CRAVYDEV"."USERS" ("USERID") ENABLE;
  ALTER TABLE "CRAVYDEV"."PRODUCT_REVIEWS" ADD CONSTRAINT "FK_PRODUCT_REVIEWS_PRODUCTID" FOREIGN KEY ("PRODUCTID")
	  REFERENCES "CRAVYDEV"."PRODUCTS" ("PRODUCTID") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table REWARDS
--------------------------------------------------------

  ALTER TABLE "CRAVYDEV"."REWARDS" ADD CONSTRAINT "FK_REWARDS_USERID" FOREIGN KEY ("USERID")
	  REFERENCES "CRAVYDEV"."USERS" ("USERID") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table USER_ROLES
--------------------------------------------------------

  ALTER TABLE "CRAVYDEV"."USER_ROLES" ADD CONSTRAINT "FK_USER_ROLES_USERID" FOREIGN KEY ("USERID")
	  REFERENCES "CRAVYDEV"."USERS" ("USERID") ENABLE;
  ALTER TABLE "CRAVYDEV"."USER_ROLES" ADD CONSTRAINT "FK_USER_ROLES_ROLEID" FOREIGN KEY ("ROLEID")
	  REFERENCES "CRAVYDEV"."ROLES" ("ROLEID") ENABLE;
